<html>
<HEAD>
    <TITLE>
        Computer Security: Home Page
    </TITLE>
    <META http-equiv=Content-Type
          content="text/html; charset=gb2312">
</HEAD>


<body>
<font face="Trebuchet MS"/>
<table cellPadding=10 align=left border=0>
    <tbody>
    <tr>
        <td>
            <h3>Reading Questions</h3>
            <p>
                Remember to submit your
                answer to this question <b>BEFORE</b> the next
                class.
            </p>
            <div style="margin: 1pc 4% 0pc 4%;
                  padding: 0.5pc 0.5pc 0.5pc 0.5pc;
                  background-color: #e0e0ff;
                  border: 1px dashed red;">
                <p>
                    Read the following code fragment from page 145 of
                    the Computer Security:
                </p>
                <pre>
                    uid_t real_uid = getuid();
                    uid_t eff_uid = geteuid();

                    seteuid(real_uid);

                    f = fopen("/tmp/X", O_WRITE);
                    if (f != -1)
                        write_to_file(f);
                    else
                        fprintf(stderr, "Permission denied\n");

                    seteuid(eff_uid);
                </pre>
                <p>
                    Can we change the third line code to
                </p>
                <pre>
                    setuid(real_uid);
                </pre>
                <p>
                    Why or why not?
                </p>
            </div>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
